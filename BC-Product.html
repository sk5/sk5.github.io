{% assign product_status = '' %}
{% case product.status %}
	{% when 'active' %}
		{% if product.on_sale %}{% assign product_status = 'On sale' %}{% endif %}
	{% when 'sold-out' %}
		{% assign product_status = 'Sold out' %}
	{% when 'coming-soon' %}
		{% assign product_status = 'Coming soon' %}
{% endcase %}
<div class="product__page">
    <!-- Product Headings -->
    <div class="product__page--headings">
        <h1 class="product--title has-dash">{{ product.name }}</h1>
        {% if product_status != blank %}<span class="product-status {{ product_status }}">{{ product_status }}</span>{% endif %}
    </div>

    <!-- Product Images -->
    <div class="product__images">
        <!-- {% if product.images.size > 1 %} product-images-slideshow{% endif %} -->
        <ul class="product__slides">
            {% for image in product.images %}
            <!--{% if forloop.index == 1 %}
            <li style="color:black;">First image</li>
            {% endif %}-->
            <li class="product__slide js--product-image{% if forloop.index == 1 %} active{% endif %}"><img class="product--image" src="{{ image | product_image_url | constrain: 1200 }}" alt="Image of {{ product.name | escape }}"></li>
            {% endfor %}
        </ul>
        <ul class="product__thumbnails">
            {% for image in product.images %}
            <li class="product__thumbnail js--product-thumbnail">
                <!-- 1. Add unique class names to onclick and the images above -->
                <!-- 2. When clicking a unique thumbnail, show the corresponding image -->
                <!-- 3. Hide all other child images parent <li>'s -->
                <button class="product__thumbnail--link{% if forloop.index == 1 %} active{% endif %}">
                    <img class="product--image" src="{{ image | product_image_url | constrain: 300 }}" alt="Image of {{ product.name | escape }}">
                </button>
            </li>
            {% endfor %}
        </ul>
    </div>

    <div class="product__info">
        {% if product.description != blank %}
        <div class="product--description">
            {{ product.description | paragraphs }}
        </div>
        {% endif %}

        <!-- Product Details -->
        <div class="product__details">
            {% if product.status == 'active' %}
            {% if theme.show_inventory_bars %}
            <div class="product__inventory">
                <div class="inventory__header">Availability</div>
                <ul class="inventory__info">
                    {% for option in product.options %}
                    <li class="inventory__box{% if option.quantity < 2 %} sold-out{% endif %}">
                        <!--{% if option.quantity < 2 %}
                    <div>Only 1 left</div>
                    {% endif %}-->
                        {% unless product.has_default_option %}<div class="inventory__name">{{ option.name }}</div>{% endunless %}
                        <!--<div class="bar">-->
                        <!-- style="width:{{ option.inventory }}%;" -->
                        <div class="inventory__quantity">{{ option.quantity }}</div>
                        <div class="inventory__label">in stock</div>
                        <!--</div>-->
                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <form method="post" class="product__form" action="/cart" accept-charset="utf8">
                <input type="hidden" name="utf8" value='✓'>
                {% if product.has_default_option %}
                {{ product.option | hidden_option_input }}
                {% else %}
                <div class="product__select">
                    <!--
                    {% for category in product.categories %}
                      {% if category.name == 'Shirts' %}
                        <div>Your content</div>
                      {% endif %}
                    {% endfor %}
                -->
                    {% for category in categories.active %}
                    {% if category.name == 'Shirts' %}
                    <label class="product__select-label" for="option">Choose a shirt size and color</label>
                    {% endif %}
                    {% endfor %}
                    <select id="product-options" name="[cart][add][id]" aria-label="Select option">
                        {% for option in product.options %}
                        <option value="{{ option.id }}" data-option-price="{{ option.price }}" {% if option.sold_out %} disabled="disabled" {% endif %}>{{ option.name }}{% if option.price != product.default_price %} - {{ option.price | money: theme.money_format }}{% endif %} {% if option.sold_out %}(Sold out){% endif %}</option>
                        {% endfor %}
                    </select>
                    <div id="product-button-options"></div>
                    <svg viewBox="0 0 15 7.6" enable-background="new 0 0 15 7.6"><path d="M15 1.1l-7.5 6.5-7.5-6.3 1-1.2 6.5 5.5 6.5-5.6z" /></svg>
                </div>
                {% endif %}
                <div class="product__purchase">
                    <div class="product__selected--info" id="selected-product-info"></div>
                    <div class="product--price">{{ product.default_price | money: theme.money_format }}</div>
                    <button class="button large positive" name="submit" type="submit" title="Add to Cart">Add to Cart</button>
                </div>
            </form>
            {% endif %}

            {% if theme.show_facebook or theme.show_twitter or theme.show_pinterest %}
            <ul class="social-buttons">
                {% if theme.show_facebook %}
                <li class="social-facebook">
                    <div class="social-title">Share it</div>
                    <div class="social-action">
                        <div class="fb-share-button" data-href="{{ page.full_url }}" data-layout="button" data-size="small" data-mobile-iframe="true"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u={{ page.full_url }}src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
                    </div>
                </li>
                {% endif %}
                {% if theme.show_twitter %}
                <li class="social-twitter">
                    <div class="social-title">Tweet It</div>
                    <div class="social-action">
                        <a href="https://twitter.com/share" class="twitter-share-button" data-url="{{ page.full_url }}" data-text="Check out {{ product.name }} from {{ store.name }}!">Tweet</a>
                        <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');</script>
                    </div>
                </li>
                {% endif %}
                {% if theme.show_pinterest %}
                <li class="social-pinterest">
                    <div class="social-title">Pin It</div>
                    <div class="social-action">
                        <a href="http://pinterest.com/pin/create/button/?url={{ page.full_url }}&media={{ product.image.url }}&description={% if product.description != blank %}{{ product.description | escape | truncate: 490 }}{% endif %}" class="pin-it-button" count-layout="horizontal"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It"></a>
                        <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>
                    </div>
                </li>
                {% endif %}
            </ul>
            {% endif %}
        </div>
    </div>
</div>

<script>
    var listarray = new Array();
    var listvalue = new Array();
    var select = document.getElementById('product-options');
    var div = document.getElementById('product-button-options');
    //
    //
    for (var i = 0; i < select.options.length; i++) {
        listarray.push(select.options[i].text);
        listvalue.push(select.options[i].value);
        //
        var fields = select.options[i].text.split('/');
        var size = fields[0];
        var color = fields[1];
        //
        //div.innerHTML += '<button class="button choose--product product__options--wrapper" id="' + listvalue[i] + '">' + listarray[i] + ' and ' + color + '</button>';
        div.innerHTML += '<button type="button" name="choose" class="button choose--product product__options--wrapper" id="' + listvalue[i] + '"><span class="product__size--label ' + color.toLowerCase() + '">' + size + '</span><span class="product__color--label">' + color + '</span></button>';
        console.log("" + size + "and color" + color.toLowerCase() + "");
    }
    //
    //
    //
    var productButtons = document.getElementsByClassName("choose--product"); // target all buttons into a element array/collection
    var productButtonsCount = productButtons.length; // cache the length
    console.log(productButtonsCount);
    for (var k = 0; k < productButtonsCount; k++) { // reset the counter; check if its smaller than the array length; add itself
        productButtons[k].onclick = function (e) { // assign a function to the onclick event
            //
            var productValue = this.getAttribute("id"); // alert the id attribute of the element clicked
            var currentButton = document.getElementById(productValue);
            document.getElementById('product-options').value = productValue;            
            //
            var productButtons = document.getElementsByClassName("choose--product");
            //
            for (var l = 0; l < productButtons.length; l++) {
                var button = productButtons[l];
                button.classList.remove("selected");
            }
            //
            currentButton.className += (" selected");
        };
    }
</script>